<!DOCTYPE html>
<html lang="sl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Trgovina - Matkomp</title>
  <meta name="color-scheme" content="light dark" />
  <style>
    :root{
      --bg: #0f172a;
      --bg-soft:#111827;
      --card:#0b1224;
      --text:#e5e7eb;
      --muted:#a7b0c3;
      --brand:#06b6d4;
      --brand-2:#14b8a6;
      --accent:#22c55e;
      --shadow: 0 10px 35px rgba(0,0,0,.35);
      --radius: 18px;
      --radius-sm: 12px;
      --radius-lg: 28px;
      --container: 1100px;
    }
    @media (prefers-color-scheme: light){
      :root{
        --bg: #f2f5f9;
        --bg-soft:#e9edf3;
        --card:#ffffff;
        --text:#1f2937;
        --muted:#4b5563;
        --shadow: 0 12px 30px rgba(2,6,23,.08);
      }
    }
    *{box-sizing:border-box}
    html,body{margin:0; padding:0; background:var(--bg); color:var(--text); font-family:"Inter","Segoe UI",Tahoma,Geneva,Verdana,sans-serif;}
    a{color:inherit}

    .container{width:100%; max-width:var(--container); margin:auto; padding: 0 20px}

    /* ‚Äî‚Äî Topbar ‚Äî‚Äî */
    .topbar{position:sticky; top:0; z-index:40; backdrop-filter:saturate(160%) blur(8px); background:linear-gradient(180deg, rgba(6,182,212,.15), rgba(20,184,166,.08) 60%, transparent); border-bottom: 1px solid rgba(255,255,255,.08)}
    .topbar-inner{display:flex; align-items:center; justify-content:space-between; gap:14px; padding:10px 0}
    .brand{display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.3px}
    .brand img{width:40px; height:40px; border-radius:50%; box-shadow:0 6px 20px rgba(6,182,212,.35)}
    nav ul{display:flex; gap:10px; list-style:none; margin:0; padding:0}
    .chip{display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px; background:rgba(6,182,212,.12); border:1px solid rgba(6,182,212,.35)}
    .btn{appearance:none; border:none; border-radius:12px; padding:10px 16px; font-weight:700; cursor:pointer; color:white; background:linear-gradient(135deg, var(--brand), var(--brand-2)); box-shadow:0 10px 30px rgba(6,182,212,.35); transition: transform .12s ease, box-shadow .12s ease}
    .btn:hover{transform:translateY(-2px); box-shadow:0 14px 40px rgba(6,182,212,.45)}

    /* ‚Äî‚Äî Trgovina ‚Äî‚Äî */
    h1{text-align:center; margin:30px 0; font-size: clamp(28px,4vw,42px);}
    .izdelek-lista{display:grid; gap:22px; grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}
    .izdelek{background:var(--card); border:1px solid rgba(255,255,255,.08); border-radius:var(--radius); box-shadow:var(--shadow); padding:18px; text-align:center; cursor:pointer; transition:transform .2s ease, box-shadow .2s ease}
    .izdelek:hover{transform:translateY(-5px); box-shadow:0 14px 35px rgba(6,182,212,.35)}
    .izdelek img{max-width:100%; height:160px; object-fit:contain; border-radius:12px; margin-bottom:12px}
    .izdelek h2{margin:8px 0; font-size:1.2rem; color:var(--brand)}
    .izdelek p{margin:4px 0; color:var(--muted); font-weight:600}
    .izdelek button{margin-top:10px}

    /* Footer */
    footer{margin:60px 0 24px; color:var(--muted); text-align:center}
    .foot{padding:22px; border-radius: var(--radius); background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01)); border:1px solid rgba(255,255,255,.08)}
  </style>
</head>
<body>

<div class="topbar">
  <div class="container topbar-inner">
    <div class="brand">
      <img src="Matkomp.png" alt="Matkomp logo"/>
      <span>Matkomp</span>
    </div>
    <nav>
      <ul>
        <li><a class="chip" href="index.html">üè† Domov</a></li>
        <li><a class="chip" href="galerija.html">üñºÔ∏è Galerija</a></li>
        <li><a class="chip" href="faq.html">‚ùì FAQ</a></li>
        <li><a class="chip" href="kontakt.html">üìû Kontakt</a></li>
        <li><button class="btn" onclick="location.href='kosarica.html'">üõí Ko≈°arica</button></li>
      </ul>
    </nav>
  </div>
</div>

<main class="container">
  <h1>üõí Trgovina Matkomp</h1>
  <div id="izdelek-lista" class="izdelek-lista"></div>
</main>

<footer class="container">
  <div class="foot">
    &copy; 2025 Matkomp. Izdelano z ‚ù§Ô∏è Luka & ekipa.
  </div>
</footer>

<script>
  fetch('podatki.json')
    .then(r => r.json())
    .then(izdelki => {
      const container = document.getElementById('izdelek-lista');
      izdelki.forEach(izdelek => {
        const div = document.createElement('div');
        div.className = 'izdelek';
        div.onclick = () => {window.location.href = `izdelek.html?id=${izdelek.id}`};

        div.innerHTML = `
          <img src="${izdelek.slika}" alt="${izdelek.ime}">
          <h2>${izdelek.ime}</h2>
          <p>${izdelek.cena.toFixed(2)} ‚Ç¨</p>
          <p>Zaloga: <span style="color:${izdelek.zaloga > 0 ? 'var(--accent)' : 'red'}">
            ${izdelek.zaloga > 0 ? izdelek.zaloga + ' kosov' : 'Ni na zalogi'}
          </span></p>
          <button class="btn" id="btn-${izdelek.id}" ${izdelek.zaloga === 0 ? 'disabled' : ''}>Dodaj v ko≈°arico</button>
        `;

        container.appendChild(div);

        const btn = div.querySelector(`#btn-${izdelek.id}`);
        btn.addEventListener('click', (ev) => {
          ev.stopPropagation();
          dodajVKosarico(izdelek.id);
        });
      });
    });

  function dodajVKosarico(id) {
    let kosarica = JSON.parse(localStorage.getItem('kosarica')) || [];
    if (kosarica.includes(id)) {
      alert('Izdelek je ≈æe v ko≈°arici!');
    } else {
      kosarica.push(id);
      localStorage.setItem('kosarica', JSON.stringify(kosarica));
      alert('Izdelek dodan v ko≈°arico!');
    }
  }
</script>

</body>
</html>
