<!DOCTYPE html>
<html lang="sl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Podrobnosti izdelka - Matkomp</title>
  <style>
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: #f2f5f9;
      margin: 0; padding: 2em;
      color: #2e3a59;
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
    }
    h1 {
      text-align: center;
      margin-bottom: 1em;
    }
    .izdelek-podrobno {
      background: white;
      padding: 2em;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      display: flex;
      gap: 20px;
      align-items: flex-start;
    }
    img {
      max-width: 350px;
      border-radius: 12px;
    }
    .opis {
      flex: 1;
    }
    button {
      padding: 10px 20px;
      font-size: 1em;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      background-color: #007bff;
      color: white;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      margin-top: 1em;
      margin-right: 10px;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #0056b3;
    }
    .zaloga {
      font-weight: 600;
      margin-top: 1em;
    }
  </style>
</head>
<body>
  <button onclick="history.back()" style="margin-bottom: 1em;">← Nazaj na trgovino</button>
  <h1>Podrobnosti izdelka</h1>

  <div class="izdelek-podrobno" id="izdelek-podrobno"></div>

  <script>
    // Enaki podatki kot v trgovina.html
    const izdelki = [
      {
        id: 0,
        ime: "Lenovo IS6XM",
        cena: 29.99,
        opis: `Lenovo IS6XM (rev 1.0) je mikro ATX matična plošča s podnožjem LGA 1155, namenjena pisarniškim računalnikom Lenovo ThinkCentre, kot so M81, M91 in M91p. Podnožje: LGA 1155 (za Intel 2. in 3. generacijo Core i7/i5/i3, Pentium)
Čipovje: Intel Q67 ali Q61
RAM: 4 reže za DDR3 (do 32 GB)
Razširitvene reže: 1 × PCIe x16, 1 × PCIe x1, včasih še 1 × PCI
Video izhodi: VGA in DisplayPort
SATA: 4 priključki
USB: Več USB 2.0 vhodov (brez USB 3.0)
BIOS: Lenovo OEM; včasih potreben posodobitev za novejše grafične kartice`,
        slika: "is6mx.jpg",
        zaloga: 1
      }
    ];

    // Naloži zalogo iz localStorage, če obstaja
    const zalogaLS = localStorage.getItem('zaloga');
    if (zalogaLS) {
      const zaloga = JSON.parse(zalogaLS);
      for (const izdelek of izdelki) {
        const z = zaloga.find(z => z.id === izdelek.id);
        if (z) izdelek.zaloga = z.zaloga;
      }
    }

    // Preberi id izdelka iz URL-ja
    const params = new URLSearchParams(window.location.search);
    const id = parseInt(params.get('id'));

    const container = document.getElementById('izdelek-podrobno');

    if (isNaN(id) || !izdelek = izdelki.find(i => i.id === id)) {
      container.innerHTML = '<p>Izdelek ni najden.</p>';
    } else {
      const div = document.createElement('div');
      div.style.display = 'flex';
      div.style.gap = '20px';

      const img = document.createElement('img');
      img.src = izdelek.slika;
      img.alt = izdelek.ime;

      const opisDiv = document.createElement('div');
      opisDiv.className = 'opis';

      const naslov = document.createElement('h2');
      naslov.textContent = izdelek.ime;

      const opisP = document.createElement('p');
      opisP.textContent = izdelek.opis;

      const cenaP = document.createElement('p');
      cenaP.innerHTML = `<strong>Cena:</strong> ${izdelek.cena.toFixed(2)} €`;

      const zalogaP = document.createElement('p');
      zalogaP.className = 'zaloga';
      if (izdelek.zaloga > 0) {
        zalogaP.textContent = `Na zalogi: ${izdelek.zaloga}`;
        zalogaP.style.color = 'green';
      } else {
        zalogaP.textContent = 'Ni na zalogi';
        zalogaP.style.color = 'red';
      }

      opisDiv.appendChild(naslov);
      opisDiv.appendChild(opisP);
      opisDiv.appendChild(cenaP);
      opisDiv.appendChild(zalogaP);

      div.appendChild(img);
      div.appendChild(opisDiv);

      container.appendChild(div);
    }
  </script>
</body>
</html>
